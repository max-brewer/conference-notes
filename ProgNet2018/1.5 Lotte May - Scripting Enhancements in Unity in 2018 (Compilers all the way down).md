# Lotte May - Scripting Enhancements in Unity in 2018 (Compilers all the way down)

## Overview

* Things used to suck
* Things gor better (IL2CPP) - but this made things really slow.
* 2018 - finally with .net 4.x support
* Performance by default.
* Commited to sub-500ms itterations (builds)

## Unity Incremental Compliler

* Built ontop of Roslyn

> Remember to strip out features you're not using to make your game smaller. - Just right click, disable.

## About GC - a problem for games

on 144 fps you need to finish your frame in under 7ms
Even on 90 (req for VR) it is over 11.
Forcing gc on an empty frame takes over 6ms

## Burst compiles HPC#

HPC# - a subset of c# with no gc, refs, classes or normal C# stuff.

but...
* Contol flow
* Extension methods
* new c# 7 syntax

no....
* Exceptions
* try/finally
* foreach
* arrays

It is not general purpose. Only for Unity Jobs.

Instead of arrays, there are NativeCollections - Memory is allocated on the c++ side of the engine.

Burst can give huge imprmvements in performance. Up to 50x on things like maths. It is only applied to structs that are decorated with the attribute, which means you can take a hybrid approach. It also gives you granular control over things like mathematical precision, which means you could drop precision where it isn't really needed.

> Different machine OSs and architectures can implement floating point calculations differently. Burst can add float determinism to prevent issues arrount this. Useful in multiplayer where you may rely on equivalent calculations happening on each agent.